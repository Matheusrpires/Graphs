import React, { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import cx from 'classnames';

import styles from './sideBar.module.css';

const Sidebar = (props) => {

  const [active, setActive] = useState('Page1');
  const [menu, setMenu] = useState(false);

  useEffect(() => {
    if(window.location.href.slice(22,27) === 'Page2'){
      setActive('Page2')
    }
  }, [])


  const toggleClass = (e) => {
    setActive(e.currentTarget.id)
    if(menu){
      setMenu(false)
    }
  }

  const toggleMenu = () => {
    if(menu) {
      setMenu(false)
    } else {
      setMenu(true)
    }
  }
  
  return (
      <div className={cx(styles.nav_container, (menu ? styles.on : ""))}>
          <div class={styles.menu_toggle} onClick={toggleMenu}>
            <div class={styles.one}></div>
            <div class={styles.two}></div>
            <div class={styles.three}></div>
          </div>
        <a className={styles.nav_title}>Simetriz</a>
        <Link id='Page1' to={'/'} onClick={toggleClass} className={cx(styles.nav_itens, (active === 'Page1' ? styles.nav_itens__selected : ""))}>
          <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M31.6003 7.13495C31.8875 6.70671 32.0553 6.19147 32.0553 5.63702C32.0553 4.14994 30.8496 2.94471 29.363 2.94471C28.8085 2.94471 28.2933 3.11248 27.865 3.3998C24.9635 1.26328 21.3794 0 17.5 0C7.83504 0 0 7.83504 0 17.5C0 27.1651 7.83504 35 17.5 35C27.1648 35 35 27.1651 35 17.5C35 13.6205 33.7366 10.0364 31.6003 7.13495ZM28.9281 28.9283C27.4435 30.4129 25.7149 31.5784 23.7905 32.3924C21.7989 33.2348 19.6826 33.6619 17.5001 33.6619C15.3177 33.6619 13.2013 33.2348 11.2096 32.3924C9.28521 31.5784 7.55675 30.413 6.07202 28.9283C4.5873 27.4435 3.42178 25.7151 2.60786 23.7907C1.76542 21.799 1.33827 19.6825 1.33827 17.5001C1.33827 15.3176 1.76542 13.2012 2.60778 11.2096C3.4217 9.28518 4.58722 7.55672 6.07194 6.072C7.55666 4.58728 9.28512 3.42176 11.2095 2.60784C13.2013 1.7654 15.3177 1.33825 17.5001 1.33825C19.6825 1.33825 21.7989 1.7654 23.7905 2.60776C24.9218 3.08623 25.9848 3.6872 26.971 4.4021C26.7796 4.77212 26.6708 5.19178 26.6708 5.63711C26.6708 7.12419 27.8762 8.32942 29.3631 8.32942C29.8084 8.32942 30.228 8.22063 30.598 8.02922C31.313 9.01536 31.914 10.0783 32.3924 11.2096C33.2348 13.2012 33.6619 15.3176 33.6619 17.5001C33.6619 19.6825 33.2348 21.799 32.3924 23.7907C31.5784 25.7151 30.4129 27.4436 28.9281 28.9283ZM17.5001 25.577C21.9609 25.577 25.577 21.9608 25.577 17.5001C25.577 13.0393 21.9609 9.42317 17.5001 9.42317C13.0393 9.42317 9.42318 13.0393 9.42318 17.5001C9.42318 21.9608 13.0393 25.577 17.5001 25.577Z" fill="white"/>
              <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="35" height="35">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M31.6003 7.13495C31.8875 6.70671 32.0553 6.19147 32.0553 5.63702C32.0553 4.14994 30.8496 2.94471 29.363 2.94471C28.8085 2.94471 28.2933 3.11248 27.865 3.3998C24.9635 1.26328 21.3794 0 17.5 0C7.83504 0 0 7.83504 0 17.5C0 27.1651 7.83504 35 17.5 35C27.1648 35 35 27.1651 35 17.5C35 13.6205 33.7366 10.0364 31.6003 7.13495ZM28.9281 28.9283C27.4435 30.4129 25.7149 31.5784 23.7905 32.3924C21.7989 33.2348 19.6826 33.6619 17.5001 33.6619C15.3177 33.6619 13.2013 33.2348 11.2096 32.3924C9.28521 31.5784 7.55675 30.413 6.07202 28.9283C4.5873 27.4435 3.42178 25.7151 2.60786 23.7907C1.76542 21.799 1.33827 19.6825 1.33827 17.5001C1.33827 15.3176 1.76542 13.2012 2.60778 11.2096C3.4217 9.28518 4.58722 7.55672 6.07194 6.072C7.55666 4.58728 9.28512 3.42176 11.2095 2.60784C13.2013 1.7654 15.3177 1.33825 17.5001 1.33825C19.6825 1.33825 21.7989 1.7654 23.7905 2.60776C24.9218 3.08623 25.9848 3.6872 26.971 4.4021C26.7796 4.77212 26.6708 5.19178 26.6708 5.63711C26.6708 7.12419 27.8762 8.32942 29.3631 8.32942C29.8084 8.32942 30.228 8.22063 30.598 8.02922C31.313 9.01536 31.914 10.0783 32.3924 11.2096C33.2348 13.2012 33.6619 15.3176 33.6619 17.5001C33.6619 19.6825 33.2348 21.799 32.3924 23.7907C31.5784 25.7151 30.4129 27.4436 28.9281 28.9283ZM17.5001 25.577C21.9609 25.577 25.577 21.9608 25.577 17.5001C25.577 13.0393 21.9609 9.42317 17.5001 9.42317C13.0393 9.42317 9.42318 13.0393 9.42318 17.5001C9.42318 21.9608 13.0393 25.577 17.5001 25.577Z" fill="white"/>
              </mask>
              <g mask="url(#mask0)">
                <rect width="35" height="35" fill="white"/>
              </g>
          </svg>
          Page 1
          </Link>
        <Link id='Page2' to={'/Page2'} onClick={toggleClass} className={cx(styles.nav_itens, (active === 'Page2' ? styles.nav_itens__selected : ""))}>
          <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M34.143 27.5802C29.7997 26.9182 29.4687 26.2811 29.4687 26.2811C30.3622 20.9111 27.5908 14.1097 23.0654 10.4277C17.0426 5.52934 7.88437 9.08726 0.75301 1.64045C-0.909872 -0.0971382 0.0580743 21.1263 8.98469 29.1688C15.5121 35.0435 23.1978 33.2397 25.3074 32.2799C27.2185 31.4029 28.5587 29.8059 28.5587 29.8059C32.0417 30.8816 33.7625 30.8154 33.7625 30.8154C34.9869 30.9643 35.6073 27.8036 34.143 27.5802ZM26.1927 27.9443C14.7593 24.5602 6.16364 12.6784 6.16364 12.6784C6.16364 12.6784 13.7087 21.5897 27.0117 25.9337C27.0283 26.6039 26.6311 27.5637 26.1927 27.9443Z" fill="white"/>
              <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="1" width="35" height="33">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M34.143 27.5802C29.7997 26.9182 29.4687 26.2811 29.4687 26.2811C30.3622 20.9111 27.5908 14.1097 23.0654 10.4277C17.0426 5.52934 7.88437 9.08726 0.75301 1.64045C-0.909872 -0.0971382 0.0580743 21.1263 8.98469 29.1688C15.5121 35.0435 23.1978 33.2397 25.3074 32.2799C27.2185 31.4029 28.5587 29.8059 28.5587 29.8059C32.0417 30.8816 33.7625 30.8154 33.7625 30.8154C34.9869 30.9643 35.6073 27.8036 34.143 27.5802ZM26.1927 27.9443C14.7593 24.5602 6.16364 12.6784 6.16364 12.6784C6.16364 12.6784 13.7087 21.5897 27.0117 25.9337C27.0283 26.6039 26.6311 27.5637 26.1927 27.9443Z" fill="white"/>
              </mask>
          </svg>
          Page 2</Link>
      </div>
  )
}

export default Sidebar;